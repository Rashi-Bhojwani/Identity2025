<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Resume Builder</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- html2pdf -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
  body {
    background: linear-gradient(135deg, #e8f0ff, #f5eaff);
  }

  /* FIXED A4 SIZE */
  #a4Wrapper {
    width: 794px;
    height: 1123px;
    background: white;
    margin: 0 auto;
    padding: 0;
    position: relative;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  #resumePreview {
    width: 100%;
    height: 1123px;
    background: white;
    position: relative;
    overflow: hidden;
  }

  /* Color theme vars */
  :root {
    --theme-primary: #1e3a8a;  /* Blue default */
    --theme-light: #dbeafe;
    --theme-gradient1: #3b82f6;
    --theme-gradient2: #1e40af;
  }

  .color-circle {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 0 5px rgba(0,0,0,0.2);
  }
</style>
</head>

<body class="font-sans">

<div class="flex flex-wrap gap-5 p-5 max-w-[1400px] mx-auto items-start">

  <!-- LEFT FORM -->
  <div id="formSection"
       class="flex-[1_1_350px] p-5 rounded-lg shadow-md sticky top-5 bg-white">

    <h2 class="text-3xl font-bold mb-4 bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent">
      Resume Inputs
    </h2>

    <!-- COLOR SWITCHER -->
    <div class="flex gap-4 mb-6 items-center">
      <div class="color-circle" style="background:#1e3a8a" onclick="setTheme('blue')"></div>
      <div class="color-circle" style="background:#6b21a8" onclick="setTheme('purple')"></div>
      <div class="color-circle" style="background:#0f766e" onclick="setTheme('teal')"></div>
      <div class="color-circle" style="background:#b91c1c" onclick="setTheme('red')"></div>
    </div>

    <!-- FORM FIELDS -->
    <label class="block mb-1 text-base">Your Name</label>
    <input type="text" id="nameInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">Role</label>
    <input type="text" id="roleInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">Email</label>
    <input type="text" id="emailInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">Phone</label>
    <input type="text" id="phoneInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">Location</label>
    <input type="text" id="locationInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">LinkedIn</label>
    <input type="text" id="linkedinInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">GitHub</label>
    <input type="text" id="githubInput" class="w-full mb-3 p-3 border rounded-md" />

    <label class="block mb-1 text-base">Professional Summary</label>
    <textarea id="summaryInput" rows="3" class="w-full mb-3 p-3 border rounded-md"></textarea>

    <label class="block mb-1 text-base">Skills</label>
    <textarea id="skillsInput" rows="3" class="w-full mb-3 p-3 border rounded-md"></textarea>

    <label class="block mb-1 text-base">Experience</label>
    <textarea id="expInput" rows="3" class="w-full mb-3 p-3 border rounded-md"></textarea>

    <label class="block mb-1 text-base">Education</label>
    <textarea id="eduInput" rows="3" class="w-full mb-3 p-3 border rounded-md"></textarea>

    <label class="block mb-1 text-base">Projects</label>
    <textarea id="projInput" rows="3" class="w-full mb-3 p-3 border rounded-md"></textarea>

    <button id="downloadBtn"
            class="w-full py-4 mt-2 text-white text-lg font-bold rounded-lg
                   bg-gradient-to-r from-blue-600 to-indigo-600">
      Download Resume
    </button>
  </div>

  <!-- RIGHT PREVIEW -->
  <div class="flex-[2_1_600px] min-w-[450px] flex justify-center overflow-x-auto">
    <div id="a4Wrapper">

      <div id="resumePreview"
           class="bg-white rounded-2xl shadow-2xl min-w-[450px] relative overflow-hidden">

        <div id="bgGradient" class="absolute inset-0 opacity-70"
             style="background: linear-gradient(to bottom right, var(--theme-light), white, var(--theme-light));"></div>

        <div class="relative z-10">

          <!-- HEADER -->
          <div id="headerBar" class="text-center p-10 pb-8"
               style="background: var(--theme-primary);">
            <h1 id="namePreview" class="text-5xl font-extrabold text-white">Your Name</h1>
            <p id="rolePreview" class="uppercase font-semibold text-blue-200 mt-2 tracking-wider">Your Role</p>
            <div class="w-28 h-1.5 bg-white mx-auto mt-4 rounded-full"></div>
          </div>

          <!-- CONTACT -->
          <div id="contactBox"
               class="px-6 py-4 rounded-md shadow-sm mb-8 grid sm:grid-cols-2 gap-3 text-gray-700 text-sm"
               style="background: var(--theme-light);">
            <p><span id="locationPreview">Location</span></p>
            <p><span id="emailPreview">Email</span></p>
            <p><span id="phonePreview">Phone</span></p>
            <p><span id="linkedinPreview">LinkedIn</span></p>
            <p><span id="githubPreview">GitHub</span></p>
          </div>

          <!-- REUSABLE SECTION -->
          <section class="mb-8 px-8">
            <h2 id="sumTitle" class="text-xl font-bold uppercase mb-2"
                style="color: var(--theme-primary);">Professional Summary</h2>
            <div class="h-[2px] w-full mb-3"
                 style="background: linear-gradient(to right, var(--theme-gradient1), var(--theme-gradient2));"></div>
            <p id="summaryPreview" class="text-gray-800 whitespace-pre-wrap break-words">Your summary here...</p>
          </section>

          <section class="mb-8 px-8">
            <h2 class="text-xl font-bold uppercase mb-2" style="color: var(--theme-primary);">Skills</h2>
            <div class="h-[2px] w-full mb-3"
                 style="background: linear-gradient(to right, var(--theme-gradient1), var(--theme-gradient2));"></div>
            <p id="skillsPreview" class="text-gray-800 whitespace-pre-wrap break-words">Skills...</p>
          </section>

          <section class="mb-8 px-8">
            <h2 class="text-xl font-bold uppercase mb-2" style="color: var(--theme-primary);">Experience</h2>
            <div class="h-[2px] w-full mb-3"
                 style="background: linear-gradient(to right, var(--theme-gradient1), var(--theme-gradient2));"></div>
            <p id="expPreview" class="text-gray-800 whitespace-pre-wrap break-words">Experience...</p>
          </section>

          <section class="mb-8 px-8">
            <h2 class="text-xl font-bold uppercase mb-2" style="color: var(--theme-primary);">Education</h2>
            <div class="h-[2px] w-full mb-3"
                 style="background: linear-gradient(to right, var(--theme-gradient1), var(--theme-gradient2));"></div>
            <p id="eduPreview" class="text-gray-800 whitespace-pre-wrap break-words">Education...</p>
          </section>

          <section class="mb-10 px-8 pb-8">
            <h2 class="text-xl font-bold uppercase mb-2" style="color: var(--theme-primary);">Projects</h2>
            <div class="h-[2px] w-full mb-3"
                 style="background: linear-gradient(to right, var(--theme-gradient1), var(--theme-gradient2));"></div>
            <p id="projPreview" class="text-gray-800 whitespace-pre-wrap break-words">Projects...</p>
          </section>

        </div>
      </div>

    </div>
  </div>
</div>

<script>
/* INPUT LIVE PREVIEW */
const fields = [
  "name", "role", "email", "phone", "location",
  "linkedin", "github", "summary", "skills",
  "exp", "edu", "proj"
];

fields.forEach(f => {
  document.getElementById(f + "Input")?.addEventListener("input", e => {
    document.getElementById(f + "Preview").innerText = e.target.value || "";
  });
});

/* THEME SWITCHER */
function setTheme(color) {
  if (color === "blue") {
    document.documentElement.style.setProperty("--theme-primary", "#1e3a8a");
    document.documentElement.style.setProperty("--theme-light", "#dbeafe");
    document.documentElement.style.setProperty("--theme-gradient1", "#3b82f6");
    document.documentElement.style.setProperty("--theme-gradient2", "#1e40af");
  }
  if (color === "purple") {
    document.documentElement.style.setProperty("--theme-primary", "#6b21a8");
    document.documentElement.style.setProperty("--theme-light", "#f3e8ff");
    document.documentElement.style.setProperty("--theme-gradient1", "#a855f7");
    document.documentElement.style.setProperty("--theme-gradient2", "#6d28d9");
  }
  if (color === "teal") {
    document.documentElement.style.setProperty("--theme-primary", "#0f766e");
    document.documentElement.style.setProperty("--theme-light", "#ccfbf1");
    document.documentElement.style.setProperty("--theme-gradient1", "#14b8a6");
    document.documentElement.style.setProperty("--theme-gradient2", "#0d9488");
  }
  if (color === "red") {
    document.documentElement.style.setProperty("--theme-primary", "#b91c1c");
    document.documentElement.style.setProperty("--theme-light", "#fee2e2");
    document.documentElement.style.setProperty("--theme-gradient1", "#ef4444");
    document.documentElement.style.setProperty("--theme-gradient2", "#991b1b");
  }
}

/* PDF DOWNLOADER */
document.getElementById("downloadBtn").addEventListener("click", () => {
  const resume = document.getElementById("a4Wrapper");

  const options = {
    margin: 0,
    filename: "Resume.pdf",
    image: { type: "jpeg", quality: 1 },
    html2canvas: { scale: 2, useCORS: true, scrollY: 0 },
    jsPDF: { unit: "px", format: [794, 1123], orientation: "portrait" }
  };

  html2pdf().set(options).from(resume).save();
});
</script>

</body>
</html>